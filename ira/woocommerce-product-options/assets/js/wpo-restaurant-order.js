(()=>{var e,t,a={324:(e,t,a)=>{"use strict";a.d(t,{D4:()=>r,Re:()=>n,Sh:()=>l,Vm:()=>o,nu:()=>s,rh:()=>i,xL:()=>c});const n=e=>{let t=e;return"string"==typeof t?t:(t=e?.type,"string"==typeof t?t:(t=e?.dataset?.type,"string"==typeof t?t:(t=e?.element?.dataset?.type,"string"==typeof t?t:null)))},r=(e,t)=>{const a=n(e);return Array.isArray(t)?t.includes(a):"string"==typeof t&&a===t},o=e=>r(e,["checkbox","image_buttons","text_labels"]),i=e=>r(e,["radio","color_swatches"]),s=e=>e?.element?.classList?.contains("wpo-field-hide"),l=e=>e.element.classList.contains("wpo-field-required")&&!s(e),c=e=>{switch(!0){case r(e,"textarea"):return"textarea";case r(e,"dropdown"):return"select";default:return"input"}}},551:(e,t,a)=>{"use strict";function n(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}a.d(t,{A:()=>n})},1127:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(9291),r=a(551);function o(e){(0,r.A)(1,arguments);var t=(0,n.A)(e);return t.setHours(0,0,0,0),t}},1810:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(1127),r=a(551);function o(e,t){(0,r.A)(2,arguments);var a=(0,n.A)(e),o=(0,n.A)(t);return a.getTime()===o.getTime()}},5104:(e,t,a)=>{"use strict";a.d(t,{Nh:()=>r,h0:()=>n,mT:()=>i,pu:()=>o});const n=e=>Object.fromEntries(Object.entries(e).map(([e,t])=>[e.toLowerCase(),t])),r=e=>({compare:(e,t,a=">")=>{switch(a){case"=":return e===t?1:0;case"!=":return e!==t?1:0;case"<":return e<t?1:0;case">=":return e>=t?1:0;case"<=":return e<=t?1:0;default:return e>t?1:0}},if:(e,t,a)=>e?t:a,and:(...e)=>e.every(e=>e),or:(...e)=>e.some(e=>e),not:e=>!e,eq:(e,t)=>e===t,neq:(e,t)=>e!==t,lt:(e,t)=>e<t,lte:(e,t)=>e<=t,gt:(e,t)=>e>t,gte:(e,t)=>e>=t}),o=e=>{var t;return{bulkPrice:(e,t,...a)=>{if(a.length%2!=0)throw new Error(__("bulkPrice() requires an even number of arguments after the product price and quantity","woocommerce-product-options"));const n=[];for(let e=0;e<a.length;e+=2)n.push({quantity:a[e],price:a[e+1]});n.sort((e,t)=>t.quantity-e.quantity);for(let e=0;e<n.length;e++)if(t>=n[e].quantity)return n[e].price;return e},bulkRate:(e,t,...a)=>{if(a.length%2!=0)throw new Error(__("bulkRate() requires an even number of arguments after the product price and quantity","woocommerce-product-options"));const n=[];for(let e=0;e<a.length;e+=2)n.push({quantity:a[e],rate:a[e+1]});n.sort((e,t)=>t.quantity-e.quantity);for(let a=0;a<n.length;a++)if(t>=n[a].quantity)return e*n[a].rate;return e},year:(e=null)=>(e=e||new Date,new Date(e).getFullYear()),month:(e=null)=>(e=e||new Date,new Date(e).getMonth()+1),day:(e=null)=>(e=e||new Date,new Date(e).getDate()),weekday:(e=null)=>(e=e||new Date,(7+new Date(e).getDay()-(window?.wpoSettings?.start_of_week||0))%7+1),productMeta:(t,a="")=>{var n,r,o,i;const s=e.querySelector(".wpo-totals-container")?.dataset,l=JSON.parse(null!==(n=s?.meta)&&void 0!==n?n:"[]"),c=Object.fromEntries(l.map(e=>[e.key,e.value]));let u=null!==(r=c?.[t])&&void 0!==r?r:a;const d=parseInt(null!==(o=e.querySelector("input.variation_id")?.value)&&void 0!==o?o:0),p=JSON.parse(null!==(i=e.dataset?.productVariations)&&void 0!==i?i:"[]").find(e=>e.variation_id===d);var m;return p&&(!p?.[t]&&t?.startsWith("_")&&(t=t.replace(/^_/,"")),void 0!==p?.[t]&&(u=null!==(m=p?.[t])&&void 0!==m?m:a)),isNaN(u)?u:Number(u)},...null!==(t=window?.wpoCustomFunctions)&&void 0!==t?t:{}}},i=()=>{var e;return{...null!==(e=window?.wpoCustomPriceTypes)&&void 0!==e?e:{}}}},5968:(e,t,a)=>{"use strict";a.d(t,{Tw:()=>u,w9:()=>g,Nl:()=>m,P4:()=>c,$8:()=>y,r9:()=>f});var n=a(324),r=a(5104);const o=window.wp.htmlEntities;var i=a(7723),s=a(9431),l=a.n(s);const c=e=>{var t,a,n,r,o,i,s,l,c;const u=e.querySelector(".wpo-totals-container")?.dataset,d=e.querySelector('button[name="add-to-cart"][type="submit"]'),p=null!==(t=e.querySelector('input[name="variation_id"][type="hidden"]')?.value)&&void 0!==t?t:0,m=d?.value?d.value:p,f=null!==e.querySelector("span.wcbvp_total_items"),y=parseInt(null!==(a=e.querySelector("span.wcbvp_total_items")?.textContent)&&void 0!==a?a:0),h=parseInt(null!==(n=e.querySelector("input.qty")?.value)&&void 0!==n?n:1);return{id:parseInt(m),price:parseFloat(null!==(r=u?.productPrice)&&void 0!==r?r:0),quantity:parseFloat(f?y:h),excludePrice:JSON.parse(null!==(o=u?.excludeProductPrice)&&void 0!==o?o:"false"),weight:null!==(i=u?.weight)&&void 0!==i?i:"",width:null!==(s=u?.width)&&void 0!==s?s:"",length:null!==(l=u?.length)&&void 0!==l?l:"",height:null!==(c=u?.height)&&void 0!==c?c:""}},u=(e,t,a,n={})=>{var o,i;const s=(0,r.mT)();let l=0;const u=e.element.closest("form"),m=c(u);let f=null!==(o=n?.quantity)&&void 0!==o?o:m.quantity,y=1;if(u.querySelector("input.wdm-bundle-radio")){const t=u.querySelector("input.wdm-bundle-radio:checked");if(t){var h,g,v,w;f=parseInt(null!==(h=t?.dataset?.quantity)&&void 0!==h?h:1);const a=null!==(g=t?.dataset?.discountType)&&void 0!==g?g:"",n=parseFloat(null!==(v=t?.dataset?.discountValue)&&void 0!==v?v:0),r=parseFloat(null!==(w=t?.dataset?.totalAmount)&&void 0!==w?w:0);y="percentage"===a?1-n/100:1-n/(r+n),1!==y&&e.element}}const b=null!==(i=n?.price)&&void 0!==i?i:m.price;switch(t){case"flat_fee":l=a;break;case"quantity_based":case"price_formula":l=a*f;break;case"percentage_inc":l=b*(a/100)*f;break;case"percentage_dec":l=a/100*-b*f;break;case"char_count":l=a*d(e)*f;break;case"file_count":l=a*p(e)*f;break;default:const r=s[t]?.callback;"function"==typeof r&&(l=r(e,t,b,a,n))}return l*y},d=e=>{let t;switch(e.type){case"text":t=e.element.querySelector("input");break;case"textarea":t=e.element.querySelector("textarea")}if(!t)return 0;let a=t.value?.trim?.();if(wpoSettings?.charCountRegExp?.length>0){const e=new RegExp(`[^${wpoSettings.charCountRegExp}]`,"g");a=a.replace(e,"")}return a?.length},p=e=>{const t=e.element.querySelector('input[type="hidden"]');try{return JSON.parse(t?.value)?.length}catch(e){return 0}},m=e=>{const t=[];if(e.element.classList.contains("wpo-field-hide"))return t;if((0,n.Vm)(e)&&Array.from(e.element.querySelectorAll('input[type="checkbox"]')).forEach(e=>{e.checked&&t.push({id:e.id,type:e.dataset.priceType,amount:parseFloat(e.dataset.priceAmount)})}),(0,n.rh)(e)&&Array.from(e.element.querySelectorAll('input[type="radio"]')).forEach(e=>{e.checked&&t.push({id:e.id,type:e.dataset.priceType,amount:parseFloat(e.dataset.priceAmount)})}),(0,n.D4)(e,"dropdown")){const a=e.element.querySelector("select");a?.selectedOptions?.length>0&&Array.from(a.selectedOptions).forEach(e=>{t.push({id:e.value,type:e.dataset.priceType,amount:parseFloat(e.dataset.priceAmount)})})}if((0,n.D4)(e,"number")){const a=e.element.querySelector("input");a.value?.trim?.()?.length>0&&t.push({id:a.id,type:a.dataset.priceType,amount:parseFloat(a.dataset.priceAmount)})}if((0,n.D4)(e,["text","datepicker"])){const a=e.element.querySelector("input");("char_count"===a.dataset.priceType||"char_count"!==a.dataset.priceType&&a.value?.trim?.()?.length>0)&&t.push({id:a.id,type:a.dataset.priceType,amount:parseFloat(a.dataset.priceAmount)})}if((0,n.D4)(e,"textarea")){const a=e.element.querySelector("textarea");("char_count"===a.dataset.priceType||"char_count"!==a.dataset.priceType&&a.value?.trim?.()?.length>0)&&t.push({id:a.id,type:a.dataset.priceType,amount:parseFloat(a.dataset.priceAmount)})}if((0,n.D4)(e,"file_upload")){const a=e.element.querySelector(`input[name="wpo-option[option-${e.optionId}]"]`);JSON.parse(a.value).length>0&&t.push({id:a.id,type:a.dataset.priceType,amount:parseFloat(a.dataset.priceAmount)})}if((0,n.D4)(e,"customer_price")){const a=e.element.querySelector("input"),n=isNaN(parseFloat(a.value))?0:parseFloat(a.value);t.push({id:a.id,type:"flat_fee",amount:n})}return t},f=e=>h(wpoSettings.currency).formatAmount(e),y=()=>!!window.wpoSettings?.tax_conflicts,h=e=>{let t;const a=e=>{const t=e.replace(/<!--[\s\S]*?(-->|$)/g,"").replace(/<(script|style)[^>]*>[\s\S]*?(<\/\1>|$)/gi,"").replace(/<\/?[a-z][\s\S]*?(>|$)/gi,"");return t!==e?a(t):t},n=e=>{if(e.priceFormat)return a(e.priceFormat.toString());switch(e.symbolPosition){case"left":return"%1$s%2$s";case"right":return"%2$s%1$s";case"left_space":return"%1$s %2$s";case"right_space":return"%2$s %1$s"}return"%1$s%2$s"};return(e=>{const a={code:"USD",symbol:"$",symbolPosition:"left",thousandSeparator:",",decimalSeparator:".",precision:2,...e};let r=a.precision;null===r?(console.warn("Currency precision is null"),r=NaN):"string"==typeof r&&(r=parseInt(r,10)),t={code:a.code.toString(),symbol:(0,o.decodeEntities)(a.symbol.toString()),symbolPosition:a.symbolPosition.toString(),decimalSeparator:a.decimalSeparator.toString(),priceFormat:n(a),thousandSeparator:a.thousandSeparator.toString(),precision:r}})(e),{formatAmount:(e,a=!1)=>{const n=function({precision:e=null,decimalSeparator:t=".",thousandSeparator:a=","},n){if(void 0===n)return"";if("number"!=typeof n&&(n=parseFloat(n)),isNaN(n))return"";let r=null===e?NaN:Number(e);if(isNaN(r)){const[,e]=n.toString().split(".");r=e?e.length:0}return l()(n,r,t,a)}(t,e);if(""===n)return n;const{priceFormat:r,symbol:o,code:s}=t;return(0,i.sprintf)(r,a?s:o,n)}}},g=(e,t=0)=>{e.querySelectorAll(".price.wpo-price-container").forEach(e=>{const a=e.closest("label").querySelector("input"),n=a.dataset.priceAmount;if(a.dataset.priceType.includes("percentage"))return;let r=e.querySelector("del"),o=e.innerHTML;if(r&&(o=r.innerHTML),0===t)e.innerHTML=o;else{r=document.createElement("del"),r.innerHTML=o;const a=document.createElement("ins");a.innerHTML=o,e.innerHTML="",e.append(r),e.append(a);const i=e.querySelector("ins span.wpo-price");i&&(i.innerHTML=f(n*(1-t)))}})}},6567:(e,t,a)=>{var n={"./attribute-options":[4513,856],"./attribute-options.js":[4513,856],"./custom-checkboxes":[6661,608],"./custom-checkboxes.js":[6661,608],"./date-picker":[8474,258],"./date-picker.js":[8474,258],"./dropdown":[1089,0],"./dropdown.js":[1089,0],"./file-upload":[3675,410],"./file-upload.js":[3675,410],"./image-buttons":[7591,50],"./image-buttons.js":[7591,50],"./image-switcher":[8071,846],"./image-switcher.js":[8071,846]};function r(e){if(!a.o(n,e))return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=n[e],r=t[0];return a.e(t[1]).then(()=>a(r))}r.keys=()=>Object.keys(n),r.id=6567,e.exports=r},7723:e=>{"use strict";e.exports=window.wp.i18n},7813:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(9291),r=a(551);function o(e,t){(0,r.A)(2,arguments);var a=(0,n.A)(e),o=(0,n.A)(t);return a.getTime()<o.getTime()}},9291:(e,t,a)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}a.d(t,{A:()=>o});var r=a(551);function o(e){(0,r.A)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===n(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}},9431:e=>{"use strict";e.exports=function(e,t,a,n){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var r=isFinite(+e)?+e:0,o=isFinite(+t)?Math.abs(t):0,i=void 0===n?",":n,s=void 0===a?".":a,l="";return l=(o?function(e,t){if(-1===(""+e).indexOf("e"))return+(Math.round(e+"e+"+t)+"e-"+t);var a=(""+e).split("e"),n="";return+a[1]+t>0&&(n="+"),(+(Math.round(+a[0]+"e"+n+(+a[1]+t))+"e-"+t)).toFixed(t)}(r,o).toString():""+Math.round(r)).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i)),(l[1]||"").length<o&&(l[1]=l[1]||"",l[1]+=new Array(o-l[1].length+1).join("0")),l.join(s)}},9672:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var n=a(9291),r=a(551);function o(e,t){(0,r.A)(2,arguments);var a=(0,n.A)(e),o=(0,n.A)(t);return a.getTime()>o.getTime()}}},n={};function r(e){var t=n[e];if(void 0!==t)return t.exports;var o=n[e]={exports:{}};return a[e](o,o.exports,r),o.exports}r.m=a,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((t,a)=>(r.f[a](e,t),t),[])),r.u=e=>"modules/"+{0:"dropdown",50:"image-buttons",258:"date-picker",410:"file-upload",608:"custom-checkboxes",846:"image-switcher",856:"attribute-options",982:"price-formulas"}[e]+".js?id="+{0:"e4fb22fab1a13ad11fa1",50:"00e9dc68dcf7700c0622",258:"c2bfc7297b06152142c4",410:"50d7f4e4b15d08599a95",608:"9e217f01ed24261538f5",846:"5066c8206ab1dfe704b5",856:"8a60a6a0d438850930ff",982:"4dfa83d14d4e0216bd49"}[e],r.miniCssF=e=>{},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="woocommerce-product-options:",r.l=(a,n,o,i)=>{if(e[a])e[a].push(n);else{var s,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==a||d.getAttribute("data-webpack")==t+o){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+o),s.src=a),e[a]=[n];var p=(t,n)=>{s.onerror=s.onload=null,clearTimeout(m);var r=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach(e=>e(n)),t)return t(n)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),l&&document.head.appendChild(s)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&"SCRIPT"===t.currentScript.tagName.toUpperCase()&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=a[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={227:0};r.f.j=(t,a)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)a.push(n[2]);else{var o=new Promise((a,r)=>n=e[t]=[a,r]);a.push(n[2]=o);var i=r.p+r.u(t),s=new Error;r.l(i,a=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var o=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,n[1](s)}},"chunk-"+t,t)}};var t=(t,a)=>{var n,o,[i,s,l]=a,c=0;if(i.some(t=>0!==e[t])){for(n in s)r.o(s,n)&&(r.m[n]=s[n]);l&&l(r)}for(t&&t(a);c<i.length;c++)o=i[c],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},a=globalThis.webpackChunkwoocommerce_product_options=globalThis.webpackChunkwoocommerce_product_options||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),(()=>{"use strict";var e=r(324),t=r(5968),a=r(9672),n=r(7813),o=r(1810);var i=r(7723);const s=(t,a=null)=>{var n;const r=window.jQuery,o=t;let s=null!=a?a:o.querySelector("button.single_add_to_cart_button");o.closest(".wc-restaurant-product-modal")&&(s=o.querySelector("button.buy"));const l=[],c=o.classList.contains("variations_form"),u=parseInt(null!==(n=o.querySelector('input[name="variation_id"][type="hidden"]')?.value)&&void 0!==n?n:0)>0&&!o.querySelector("button.single_add_to_cart_button")?.classList.contains("wc-variation-is-unavailable");let d=!c||u;const p=e=>{y()||e?.preventDefault?.()};function m(t,a=!0){const n=(t=>{var a;return null!==(a={checkbox:g,image_buttons:g,text_labels:g,radio:v,color_swatches:v,dropdown:w,text:f,number:f,customer_price:f,textarea:f,file_upload:b,datepicker:_,product:S}[(0,e.Re)(t)])&&void 0!==a?a:f})(t),r=t.inputElements.item(0);if(!r)return!0;if(a&&t.element.querySelector(".wpo-error-message")?.remove(),n(t))return r.required=!1,!0;if(a){const a=document.createElement("span");var o;a.classList.add("wpo-error-message"),(0,e.D4)(t,["datepicker","file_upload"])?a.textContent=null!==(o=r?.dataset?.validationMessage)&&void 0!==o?o:"":a.textContent=r.validationMessage,t.element.appendChild(a)}return!1}function f(t){const a=t.inputElements.item(0);return a.required=(0,e.Sh)(t),a?.checkValidity()}function y(t=!0){const a=l.reduce((a,n)=>{let r=!1;if((0,e.nu)(n)){const e=n.inputElements.item(0);e&&(e.required=!1,e.setCustomValidity("")),r=!0}else r=m(n,t);return a&&r},!0)&&d;!a&&t&&h();const n=new CustomEvent("wpo:formValidityCheck",{bubbles:!0,detail:{isValid:a}});return o.dispatchEvent(n),a}const h=()=>{const e=t.querySelector(".wpo-error-message"),a=e?.closest(".wpo-field");if(a){const e=45,t=document.body.getBoundingClientRect().top,n=a.getBoundingClientRect().top-t-e;window.scrollTo({top:n,behavior:"smooth"})}};function g(t){const a=Array.from(t.inputElements).filter(e=>e.checked),n=t.inputElements.item(0),r=(0,e.Sh)(t)?1:0,o=t.minQty?t.minQty:r,s=t.maxQty?t.maxQty:0;if(((0,e.Sh)(t)||a.length>0)&&o&&a.length<o){const e=1===s?(0,i.__)("Please select an option.","woocommerce-product-options"):(0,i.sprintf)(/* translators: %d: minimum number of required options */ /* translators: %d: minimum number of required options */
(0,i._n)("Please select at least %d option.","Please select at least %d options.",o,"woocommerce-product-options"),o);return n?.setCustomValidity(e),!1}if(((0,e.Sh)(t)||a.length>0)&&s&&a.length>s){const e=(0,i.sprintf)(/* translators: %d: maximum number of required options */ /* translators: %d: maximum number of required options */
(0,i._n)("Please select no more than %d option.","Please select no more than %d options.",t.maxQty,"woocommerce-product-options"),t.maxQty);return n?.setCustomValidity(e),!1}return n?.setCustomValidity(""),!0}function v(t){const a=Array.from(t.inputElements).filter(e=>e.checked),n=t.inputElements.item(0);return 0===a.length&&(0,e.Sh)(t)?(n?.setCustomValidity((0,i.__)("Please select an option.","woocommerce-product-options")),n.required=!0,!1):(n?.setCustomValidity(""),n.required=!1,!0)}function w(t){const a=t.inputElements.item(0),n=Array.from(a.selectedOptions).filter(e=>""!==e.value);if(((0,e.Sh)(t)||a.selectedOptions.length>0)&&t.minQty&&n.length<t.minQty){const e=1===t.maxQty?(0,i.__)("Please select an option.","woocommerce-product-options"):(0,i.sprintf)(/* translators: %d: minimum number of required options */ /* translators: %d: minimum number of required options */
(0,i._n)("Please select at least %d option.","Please select at least %d options.",t.minQty,"woocommerce-product-options"),t.minQty);return a?.setCustomValidity(e),!1}if(1===t.maxQty&&n.length>t.maxQty)return inputElement&&t.inputElements.forEach(e=>{e.checked=e.value===inputElement.value,e.closest(".wpo-image-button")?.querySelector(".wpo-image-active")?.classList.toggle("wpo-image-selected",e.checked)}),!1;if(((0,e.Sh)(t)||n.length>0)&&t.maxQty&&n.length>t.maxQty){const e=(0,i.sprintf)(/* translators: %d: maximum number of required options */ /* translators: %d: maximum number of required options */
(0,i._n)("Please select no more than %d option.","Please select no more than %d options.",t.maxQty,"woocommerce-product-options"),t.maxQty);return a?.setCustomValidity(e),!1}return a?.setCustomValidity(""),a.required=!1,!0}function b(t){const a=t.inputElements.item(0);return JSON.parse(a.value).length<1&&(0,e.Sh)(t)?(a.dataset.validationMessage=(0,i.__)("Please select a file.","woocommerce-product-options"),a.required=!0,!1):(delete a.dataset.validationMessage,a.valid=!0,a.required=!1,!0)}function _(t){const a=t.inputElements.item(0);if(a?.value?.length>0){const e=new Date(a.value);if(isNaN(e.getTime()))return console.log("invalid date",a.value),a.dataset.validationMessage=(0,i.__)("Please select a valid date.","woocommerce-product-options"),!1;const t=parseInt(a.dataset.hourIncrement);if(e.getHours()%t!==0)return console.log("invalid hour",a.value),a.dataset.validationMessage=(0,i.sprintf)("Please select a valid time: hours must be a multiple of %d",t),!1;const n=parseInt(a.dataset.minuteIncrement);if(e.getMinutes()%n!==0)return console.log("invalid minute",a.value),a.dataset.validationMessage=(0,i.sprintf)("Please select a valid time: minutes must be a multiple of %d",n),!1}else if((0,e.Sh)(t))return a.dataset.validationMessage=(0,i.__)("Please select a date.","woocommerce-product-options"),!1;return delete a.dataset.validationMessage,a.required=!1,!0}function S(t){switch(!0){case(0,e.D4)(t,"radio"):return v(t);case(0,e.D4)(t,"dropdown"):return w(t);case(0,e.D4)(t,"checkbox"):case(0,e.D4)(t,"image_buttons"):default:return g(t)}}return{init:function(){if(!(o instanceof HTMLFormElement&&s instanceof HTMLButtonElement))return!1;l.push(...Array.from(o.querySelectorAll(".wpo-field")).map(t=>{var a,n,r,o;const i=t.querySelectorAll((0,e.xL)(t.dataset.type)),s=i.item(0),l=s?.min?parseInt(s?.min):null,c=s?.max?parseInt(s?.max):null;return{element:t,inputElements:i,optionId:parseInt(null!==(a=t?.dataset?.optionId)&&void 0!==a?a:0),minQty:t.dataset?.minQty?parseInt(t.dataset.minQty):l,maxQty:t.dataset?.maxQty?parseInt(t.dataset.maxQty):c,step:null!==(n=s?.step)&&void 0!==n?n:null,minChar:null!==(r=s?.minLength)&&void 0!==r?r:null,maxChar:null!==(o=s?.maxLength)&&void 0!==o?o:null}}).filter(Boolean)),o.checkFormValidity=y,function(){l.forEach(e=>{["input","change"].forEach(t=>{e.element.addEventListener(t,()=>{((e,t)=>{const a=new CustomEvent(`wpo:field:${e}`,{bubbles:!0,detail:{field:t}});o.dispatchEvent(a)})(t,e),m(e),s.classList.toggle("disabled",!y(!1))})}),e.inputElements.forEach(e=>{e.addEventListener("invalid",e=>e.preventDefault())})}),l.filter(e=>"product"===e?.element?.dataset?.parentType&&"radio"===e?.element?.dataset?.type).forEach(e=>{e.inputElements.forEach(t=>{t.addEventListener("change",()=>{e.inputElements.forEach(e=>{e.checked=e.value===t.value})})})}),s.addEventListener("click",e=>{p(e)}),o.addEventListener("submit",e=>{p(e)}),r(o).on("wc_variation_form",(e,t)=>{r(o).on("show_variation",(e,t,a)=>{d=a,s.classList.toggle("disabled",!y(!1))}),r(o).on("reset_data",()=>{d=!1})}),r(o).on("found_variation",(e,t)=>{var a;d=null!==(a=t?.is_purchasable)&&void 0!==a&&a});const e=!y(!1);if(e){const e=new CustomEvent("wpo:invalidForm",{bubbles:!0,detail:{form:o}});o.dispatchEvent(e)}s.classList.toggle("disabled",e)}()}}},l=window.wp.apiFetch;var c=r.n(l);const u=a=>{const n=a,o=!!n.closest(".wc-restaurant-product-modal");let i,s,l=[],u=[],d=[],p=[],m=[];const f=e=>{e=e||n,i=(0,t.P4)(n),m=[],l.forEach(e=>{(0,t.Nl)(e).forEach(t=>{g(e,t)})}),u.length>0?y().then(()=>{v()}):v()},y=()=>new Promise(e=>{r.e(982).then(r.bind(r,3412)).then(a=>{const n=u.map(e=>{const t=a.evaluateFormula(e);return isNaN(t?.amount)||g(e,t),t});(0,t.$8)()?i?.id>0&&h({product_id:i.id,formulas:n}).then(()=>e()).catch(e=>reject(e)):e()})}),h=e=>new Promise(t=>{s.querySelector(".wpo-price").innerHTML="",c()({path:"/wc-product-options/v1/formula/calculate",method:"POST",data:e}).then(e=>{e.forEach(e=>{const t=u.find(t=>t.optionId===e.id);isNaN(e.amount)||g(t,e)}),s.classList.remove("wpo-totals-hidden"),t()}).catch(e=>{reject(e)})}),g=(e,a)=>{const n=(0,t.Tw)(e,a.type,a.amount);m=[...m.filter(e=>e.id!==a.id),{id:a.id,price:n}],e.element.dataset.optionPrice=n,e.element.value=n},v=()=>{const e=m.reduce((e,t)=>e+t.price,0),t=i.excludePrice?e:i.quantity*i.price+e;n.dispatchEvent(new CustomEvent("wpo:recalculated",{detail:{form:n,total:s?.dataset?.totalPrice}})),w(Math.max(0,t),e)},w=(e,a)=>{const r=(0,t.r9)(e);0===a&&1===i.quantity?s.classList.add("wpo-totals-hidden"):s.classList.remove("wpo-totals-hidden"),s.querySelector(".wpo-price")&&(s.querySelector(".wpo-price").innerHTML=r);const l=e/i.quantity;s.dataset.totalPrice=parseFloat(e),s.dataset.perItemPrice=parseFloat(l),o&&window.wcRestaurantProductModal&&window.wcRestaurantProductModal.setPrice(l),n.dispatchEvent(new CustomEvent("wpo:priceUpdated",{detail:{form:n,total:s.dataset.totalPrice}}))};return{init:()=>n instanceof HTMLFormElement&&n.querySelector(".wpo-totals-container")instanceof HTMLElement&&(i=(0,t.P4)(n),s=n.querySelector(".wpo-totals-container"),l=Array.from(n.querySelectorAll(".wpo-field")).map(e=>({element:e,type:e.dataset?.type,groupId:e.dataset?.groupId?parseInt(e.dataset.groupId):null,optionId:e.dataset?.optionId?parseInt(e.dataset.optionId):null,pricing:"true"===e.dataset?.pricing})),u=Array.from(n.querySelectorAll(".wpo-field")).filter(e=>"price_formula"===e.dataset.type).map(e=>{const t=e.querySelector("input");return{element:e,inputElement:e.querySelector("input"),type:e.dataset?.type,groupId:e.dataset?.groupId?parseInt(e.dataset.groupId):null,optionId:e.dataset?.optionId?parseInt(e.dataset.optionId):null,formula:t.dataset?.priceFormula?t.dataset.priceFormula:null,formulaVariables:t.dataset?.priceFormulaVariables?JSON.parse(t.dataset.priceFormulaVariables):null,customFormulaVariables:t.dataset?.customFormulaVariables?JSON.parse(t.dataset.customFormulaVariables):null}}),d=Array.from(n.querySelectorAll(".wpo-field")).filter(e=>"number"===e.dataset.type).map(e=>({element:e,inputElement:e.querySelector("input"),type:e.dataset?.type,groupId:e.dataset?.groupId?parseInt(e.dataset.groupId):null,optionId:e.dataset?.optionId?parseInt(e.dataset.optionId):null})),p=Array.from(n.querySelectorAll(".wpo-field")).filter(e=>"checkbox"===e.dataset.type).map(e=>({element:e,inputElements:e.querySelectorAll("input"),type:e.dataset?.type,groupId:e.dataset?.groupId?parseInt(e.dataset.groupId):null,optionId:e.dataset?.optionId?parseInt(e.dataset.optionId):null})),(()=>{if(n.querySelector("input.qty")?.addEventListener("change",e=>{f()}),jQuery("input.qty").on("change",()=>{f()}),jQuery(document).on("wc_bulk_variations_table_recalculate",()=>{f()}),o&&window.wcRestaurantProductModal){const e=window.wcRestaurantProductModal.getModalElement();e.on("wro:modal:change_quantity",t=>{f(e.get(0).querySelector("form.cart"))})}n.addEventListener("wpo_run_frontend_calculation",()=>f()),n.addEventListener("wpo:recalculate",()=>f()),l.forEach(t=>{(0,e.D4)(t,["text","textarea","customer_price","number"])?t?.element.addEventListener("input",()=>f()):t?.element.addEventListener("change",()=>f())}),jQuery(document).on("found_variation",n,(e,a)=>{n===e.target&&(s.dataset.productPrice=a.display_price,s.dataset.weight=a.weight,s.dataset.width=a.dimensions.width,s.dataset.length=a.dimensions.length,s.dataset.height=a.dimensions.height,i=(0,t.P4)(n),f())}),jQuery(document).on("reset_data",n,e=>{f()})})(),void f())}},d=a=>{const n=a;let o=(0,t.P4)(n),i=[],s=[],l=[],c=0;const u=()=>{i.forEach(e=>{e.subTotals=[]}),s.forEach(e=>{(0,t.Nl)(e).forEach(t=>{m(e,t)})}),d().then(()=>{f()})},d=()=>new Promise(e=>{r.e(982).then(r.bind(r,3412)).then(a=>{const n=l.map(e=>{const t=a.evaluateFormula(e);return isNaN(t?.amount)||m(e,t),t});(0,t.$8)()?o?.id>0&&p({product_id:o.id,formulas:n}).then(()=>e()).catch(e=>reject(e)):e()})}),p=e=>new Promise(t=>{totalsContainer.querySelector(".wpo-price").innerHTML="",apiFetch({path:"/wc-product-options/v1/formula/calculate",method:"POST",data:e}).then(e=>{e.forEach(e=>{const t=l.find(t=>t.optionId===e.id);isNaN(e.amount)||m(t,e)}),totalsContainer.classList.remove("wpo-totals-hidden"),t()}).catch(e=>{reject(e)})}),m=(e,a)=>{for(const[n,r]of i.entries()){if(!r?.quantity||0===r.quantity)continue;const o=(0,t.Tw)(e,a.type,a.amount,{price:r.display_price,quantity:r.quantity});i[n].subTotals=[...r.subTotals.filter(e=>e.id!==a.id),{id:a.id,price:o}]}},f=()=>{c=i.reduce((e,t)=>{if(!t?.subTotals||!Array.isArray(t.subTotals))return e;if(!t?.quantity||0===t.quantity)return e;const a=t.subTotals.reduce((e,t)=>e+t.price,0);return e+(o.excludePrice?a:t.quantity*t.display_price+a)},0),y((0,t.r9)(c))},y=e=>{n.querySelector(".wcbvp_total_price bdi").innerHTML=e};return{init:()=>n instanceof HTMLFormElement&&n.querySelector(".wpo-totals-container")instanceof HTMLElement&&(i=JSON.parse(n.dataset?.product_variations),s=Array.from(n.querySelectorAll(".wpo-field")).map(e=>({element:e,type:e.dataset?.type,groupId:e.dataset?.groupId?parseInt(e.dataset.groupId):null,optionId:e.dataset?.optionId?parseInt(e.dataset.optionId):null,pricing:"true"===e.dataset?.pricing})).filter(e=>e.pricing),l=Array.from(n.querySelectorAll(".wpo-field")).filter(e=>"price_formula"===e.dataset.type).map(e=>{const t=e.querySelector("input");return{element:e,inputElement:e.querySelector("input"),type:e.dataset?.type,groupId:e.dataset?.groupId?parseInt(e.dataset.groupId):null,optionId:e.dataset?.optionId?parseInt(e.dataset.optionId):null,formula:t.dataset?.priceFormula?t.dataset.priceFormula:null,formulaVariables:t.dataset?.priceFormulaVariables?JSON.parse(t.dataset.priceFormulaVariables):null,customFormulaVariables:t.dataset?.customFormulaVariables?JSON.parse(t.dataset.customFormulaVariables):null}}),document.querySelectorAll("input.wcbvp-quantity").forEach(e=>{e.addEventListener("change",e=>{const t=parseInt(e.target.dataset.product_id),a=i[i.findIndex(e=>e.variation_id===t)];a&&(a.quantity=parseInt(e.target.value)),u()})}),s.forEach(t=>{(0,e.D4)(t,["text","textarea","customer_price"])?t?.element.addEventListener("input",()=>u()):t?.element.addEventListener("change",()=>u())}),jQuery(document).on("wc_bulk_variations_table_recalculate",()=>u()),void u())}},p=e=>({init:()=>{if(!(e instanceof HTMLFormElement))return!1;document.querySelectorAll(".wdm-bundle-radio").forEach(a=>{a.addEventListener("change",()=>{let n=parseFloat(a.dataset.discountValue)/100;"value"===a.dataset.discountType&&(n=parseFloat(a.dataset.discountValue)/(parseFloat(a.dataset.totalAmount)+parseFloat(a.dataset.discountValue))),e.querySelectorAll(".wpo-field").forEach(e=>{(0,t.w9)(e,n)})})})}});var m;m=jQuery,r.p=window?.wpoSettings?.module_path_url,m(document.body).on("wro:modal:open",i=>{const l=jQuery(i.target).find("form.cart").get();((e="")=>new Promise((t,a)=>{const n=[],o={};return Object.entries({checkbox:{type:"checkbox",file:"custom-checkboxes"},textLabels:{type:"text_labels",file:"custom-checkboxes"},dropdown:{type:"dropdown",file:"dropdown"},fileUpload:{type:"file_upload",file:"file-upload"},imageButtons:{type:"image_buttons",file:"image-buttons"},imageCheckboxes:{type:"image_buttons",file:"custom-checkboxes"},imageSwitcher:{selector:".wpo-field-with-images",file:"image-switcher"},datePicker:{type:"datepicker",file:"date-picker"},attributeOptions:{type:"attribute_options",file:"attribute-options",selector:"[data-variation-attribute]"}}).forEach(([t,a])=>{let i=`${e} [data-type="${a.type}"]`;a.selector&&(i=`${e} ${a.selector}`),document.querySelectorAll(i).length>0&&n.push(r(6567)(`./${a.file}`).then(e=>{o[t]=e.default}))}),Promise.all(n).then(e=>{t(o)}).catch(e=>{a(e)})}))().then(r=>{((r,i=null)=>{r?.dropdown?.init(),r?.checkbox?.init(),r?.textLabels?.init(),r?.datePicker?.init(),r?.imageCheckboxes?.init(),r?.imageSwitcher?.init(),(i||document.querySelectorAll("form.cart")).forEach(i=>{(function(r){const i=r,s=i?.dataset?.product_id,l=["variations_form","wpt_variations_form"];let c;const u=window.jQuery;let d=(0,t.P4)(i);function p(e,a){const n=e?.target,r=i.querySelector(".wpo-totals-container");r&&(r.dataset.productPrice=parseFloat(a.display_price||0),r.dataset.weight=parseFloat(a.weight||0),r.dataset.width=parseFloat(a.width||0),r.dataset.length=parseFloat(a.length||0),r.dataset.height=parseFloat(a.height||0),d=(0,t.P4)(n)),m()}function m(){c.filter(e=>e.clogic&&e.clogicConditions).forEach(t=>{!function(t){const r=function(){const t=[],a=c.filter(e=>!e.element.classList.contains("wpo-field-hide"));return a.forEach(a=>{const{optionId:n}=a,r=function(t){let a=!1;(0,e.Vm)(t)&&(a=t.element.querySelectorAll('input[type="checkbox"]')),(0,e.rh)(t)&&(a=t.element.querySelectorAll('input[type="radio"]')),(0,e.D4)(t,"dropdown")&&(a=t.element.querySelector("select")),(0,e.D4)(t,["text","datepicker","file_upload","customer_price","number"])&&(a=t.element.querySelector("input")),(0,e.D4)(t,"textarea")&&(a=t.element.querySelector("textarea"));let n=[];return"file_upload"===t.type?n=JSON.parse(a.value):(a=a instanceof NodeList?Array.from(a):[a],n=a.map(a=>(0,e.Vm)(t)||(0,e.rh)(t)?a.checked?a.value:"":a.value)),n.filter(Boolean)}(a);t.push({optionId:n,values:[...r]})}),t}();r.push(...function(){let e=Array.from(i.querySelectorAll(".variations select"));e=e.map(e=>{const t=new RegExp(`_${s}$`,"g");return{optionId:e.id.replace(t,""),values:[e.value]}}).filter(e=>""!==e.values[0]);const t=i.querySelector(".wpo-options-container")?.dataset?.productAttributes;let a=Object.entries(JSON.parse(null!=t?t:"{}"));return a=a.map(e=>({optionId:e[0],values:e[1]})),[...e,...a]}()),r.push(...Object.keys(d).map(e=>({optionId:`product_${e}`,values:[d[e]]})));const l="or"===t.clogicRelation?"some":"every";t.clogicConditions[l](e=>function(e,t){const r=e.find(e=>String(e.optionId)===String(t.optionID));if(!r)return!1;if(1===r.values.length)switch(t.operator){case"contains":case"equals":return"any"===t.value||r.values[0]===t.value;case"not_contains":case"not_equals":return"any"!==t.value&&r.values[0]!==t.value;case"greater":return parseFloat(r.values[0])>parseFloat(t.value);case"less":return parseFloat(r.values[0])<parseFloat(t.value);case"not_empty":return r.values[0].length>0;case"empty":return 0===r.values[0].length;case"date_greater":return(0,a.A)(new Date(r.values[0]),new Date(t.value));case"date_less":return(0,n.A)(new Date(r.values[0]),new Date(t.value));case"date_equals":return(0,o.A)(new Date(r.values[0]),new Date(t.value));case"date_not_equals":return!(0,o.A)(new Date(r.values[0]),new Date(t.value))}else switch(t.operator){case"contains":case"equals":return"any"===t.value&&r.values.length>0||r.values.includes(t.value);case"not_contains":case"not_equals":return"any"===t.value?0===r.values.length:!r.values.includes(t.value);case"empty":return 0===r.values.length;case"not_empty":return r.values.length>0}return!1}(r,e))?f(t,!0):f(t,!1)}(t)})}function f(e,t){t?("show"===e.clogicVisibility&&e.element.classList.remove("wpo-field-hide"),"hide"===e.clogicVisibility&&e.element.classList.add("wpo-field-hide")):("show"===e.clogicVisibility&&e.element.classList.add("wpo-field-hide"),"hide"===e.clogicVisibility&&e.element.classList.remove("wpo-field-hide")),i.dispatchEvent(new Event("wpo_run_frontend_calculation"))}return{init:function(){if(!(i instanceof HTMLFormElement))return!1;c=Array.from(i.querySelectorAll(".wpo-field")).map(t=>{var a,n;return{element:t,inputElements:t.querySelectorAll((0,e.xL)(t.dataset.type)),type:t.dataset?.type,groupId:t.dataset?.groupId?parseInt(t.dataset.groupId):null,optionId:t.dataset?.optionId?parseInt(t.dataset.optionId):null,clogic:"true"===t.dataset.clogic,clogicRelation:null!==(a=t.dataset?.clogicRelation)&&void 0!==a&&a,clogicVisibility:null!==(n=t.dataset?.clogicVisibility)&&void 0!==n&&n,clogicConditions:!!t.dataset?.clogicConditions&&JSON.parse(t.dataset.clogicConditions)}}),c.forEach(e=>e?.element.addEventListener("change",m)),l.some(e=>i.classList.contains(e))&&(u(i).on("woocommerce_variation_select_change",m),u(i).on("reset_variations",m),u(i).on("found_variation",p)),m()}}})(i).init(),s(i).init(),r?.fileUpload?.(i).init(),r?.imageButtons?.(i).init(),i.classList.contains("wcbvp-cart")?d(i).init():(u(i).init(),r?.attributeOptions?.(i).init()),p(i).init()})})(r,l)}).catch(e=>{console.error(e)})})})()})();